<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <title>title</title>
</head>

<body>
    <div class="container">
        <h2>Survey Questions</h2>
        <hr>
        <h3><strong>About You</strong></h3>
        <h4>Name (required)</h4>
        <input type="text" class="form-control" id="user-name" required>

        <h4>Link to Photo Image (required) </h4>
        <input type="text" class="form-control" id="user-photo" required>

        <h3><strong>Statement 1</strong></h3>
        <h4>"You Can't Always Get What You Want"</h4>
        <select data-placeholder='' class="chosen-select" id="survey1">
            <option value=''></option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2 (Somewhat Disagree)</option>
            <option value='3'>3 (Neutral)</option>
            <option value='4'>4 (Somewhat Agree)</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>

        <h3><strong>Satement 2</strong></h3>
        <h4>My girl likes to party all the time</h4>
        <select data-placeholder='' class="chosen-select" id="survey2">
            <option value=''></option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2 (Somewhat Disagree)</option>
            <option value='3'>3 (Neutral)</option>
            <option value='4'>4 (Somewhat Agree)</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>

        <h3><strong>Satement 3</strong></h3>
        <h4>Music Has The Right To Children</h4>
        <select data-placeholder='' class="chosen-select" id="survey3">
            <option value=''></option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2 (Somewhat Disagree)</option>
            <option value='3'>3 (Neutral)</option>
            <option value='4'>4 (Somewhat Agree)</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>

        <h3><strong>Satement 4</strong></h3>
        <h4>If you can be told what you can see or read
            Then it follows that you can be told what to say or think</h4>
        <select data-placeholder='' class="chosen-select" id="survey4">
            <option value=''></option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2 (Somewhat Disagree)</option>
            <option value='3'>3 (Neutral)</option>
            <option value='4'>4 (Somewhat Agree)</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>

        <h3><strong>Satement 5</strong></h3>
        <h4>Just 'cause you feel it doesn't mean it's there</h4>
        <select data-placeholder='' class="chosen-select" id="survey5">
            <option value=''></option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2 (Somewhat Disagree)</option>
            <option value='3'>3 (Neutral)</option>
            <option value='4'>4 (Somewhat Agree)</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>

        <h3><strong>Satement 6</strong></h3>
        <h4>They say an end can be a start</h4>
        <select data-placeholder='' class="chosen-select" id="survey6">
            <option value=''></option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2 (Somewhat Disagree)</option>
            <option value='3'>3 (Neutral)</option>
            <option value='4'>4 (Somewhat Agree)</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>

        <h3><strong>Satement 7</strong></h3>
        <h4>You take what you need and you leave the rest
            But they should never have taken the very best</h4>
        <select data-placeholder='' class="chosen-select" id="survey7">
            <option value=''></option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2 (Somewhat Disagree)</option>
            <option value='3'>3 (Neutral)</option>
            <option value='4'>4 (Somewhat Agree)</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>

        <h3><strong>Satement 8</strong></h3>
        <h4>I hear everybody that you know is more relevant than everybody that I know</h4>
        <select data-placeholder='' class="chosen-select" id="survey8">
            <option value=''></option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2 (Somewhat Disagree)</option>
            <option value='3'>3 (Neutral)</option>
            <option value='4'>4 (Somewhat Agree)</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>

        <h3><strong>Satement 9</strong></h3>
        <h4>Music is Math</h4>
        <select data-placeholder='' class="chosen-select" id="survey9">
            <option value=''></option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2 (Somewhat Disagree)</option>
            <option value='3'>3 (Neutral)</option>
            <option value='4'>4 (Somewhat Agree)</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>

        <h3><strong>Satement 10</strong></h3>
        <h4>Music Sounds Better With You</h4>
        <select data-placeholder='' class="chosen-select" id="survey10">
            <option value=''></option>
            <option value='1'>1 (Strongly Disagree)</option>
            <option value='2'>2 (Somewhat Disagree)</option>
            <option value='3'>3 (Neutral)</option>
            <option value='4'>4 (Somewhat Agree)</option>
            <option value='5'>5 (Strongly Agree)</option>
        </select>
        <br><br>

        <button type="submit" class="btn btn-primary btn-lg" id="submitSurvey">Submit</button>
    </div>
    <br>
    <footer class="footer">
        <p><a href="/api/friends">API Friends Data</a> | <a href="https://github.com/jtrupe/Friender-Finderer">GitHub
                Repo</a></p>
    </footer>

    <div id="best-match-modal" class="modal fade" role="dialog">
        <div class="modal-dialog">

            <div class="modal-content">
                <div class="modal-header">
                    <button class="close" data-dismiss="modal">&times;</button>
                    <h2 class="modal-title"><strong>Best Match</strong></h2>
                </div>
                <div class="modal-body">
                    <h2 id="best-match-name"></h2>
                    <img id="best-match-photo"
                        src="https://media.licdn.com/mpr/mpr/shrinknp_400_400/p/6/005/064/1bd/3435aa3.jpg" alt="" width="150" height="250">
                </div>
                <div class="modal-footer">
                    <button class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        $("#submitSurvey").on("click", function () {
            event.preventDefault();

            const user = {
                name: $("#user-name").val().trim(),
                photo: $("#user-photo").val().trim(),
                scores: [
                    $("#survey1").val(),
                    $("#survey2").val(),
                    $("#survey3").val(),
                    $("#survey4").val(),
                    $("#survey5").val(),
                    $("#survey6").val(),
                    $("#survey7").val(),
                    $("#survey8").val(),
                    $("#survey9").val(),
                    $("#survey10").val(),
                ]
            }
            $.post("/api/friends", user, function (result) {
                console.log(result);
                $("#best-match-name").text(result.name);
                $("#best-match-photo").attr("src", result.photo);

                $("#best-match-modal").modal("toggle");
            })
        })
    </script>
</body>